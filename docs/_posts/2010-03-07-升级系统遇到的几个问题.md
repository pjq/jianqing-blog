---
title: "升级系统遇到的几个问题"
date: 2010-03-07
author: pengjianqing
categories: ['gentoo', 'Linux']
tags: ['jdk', 'license', 'perl-cleaner']
---

升级系统遇到的几个问题

好长时间没升级系统了，这两天升级就遇到了好多问题，记录一下。
1.新增了LICENSE，比如JDK，VirtualBox都有相关License.
解决办法：
echo "dev-java/sun-jdk dlj-1.1" >> /etc/portage/package.license

2.好像是与perl有关的，出现了好多莫名其妙的问题
perl-cleaner --reallyall
参考：
http://www.gentoo.ru/content/reshenone-mogu-postavit-dev-perldbd-mysql
http://li2z.cn/2010/02/17/perl_update/

3.硬盘分区都读不出来。
直接在/dev/下面连sda,sdb都没有了。现在还不知道是什么原因，但奇怪的是dmesg中打出的信息明显有扫描出硬盘分区的。
[    3.049040] ata4: SATA link up 3.0 Gbps (SStatus 123 SControl 300)
[    3.058716] ata4.00: ATA-8: WDC WD5000AADS-00L4B1, 05.04C05, max UDMA/133
[    3.065460] ata4.00: 976773168 sectors, multi 16: LBA48 NCQ (depth 31/32)
[    3.078743] ata4.00: configured for UDMA/133
[    3.085515] scsi 3:0:0:0: Direct-Access     ATA      WDC WD5000AADS-0 05.0 PQ: 0 ANSI: 5
[    3.092437] sd 3:0:0:0: [sdb] 976773168 512-byte logical blocks: (500 GB/465 GiB)
[    3.099296] sd 3:0:0:0: [sdb] Write Protect is off
[    3.106029] sd 3:0:0:0: [sdb] Mode Sense: 00 3a 00 00
[    3.106049] sd 3:0:0:0: [sdb] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[    3.113075]  sdb: sdb1 sdb2 
[    3.199987] sd 3:0:0:0: [sdb] Attached SCSI disk

更奇怪的是我的/boot目录也是一个独立分区的，如果系统要启动肯定会去读内核的，但现在连boot的那个分区都看不到，怪异。
编译了最新的内核2.6.33,但连boot都读不出来了，想用最新的内核也不行了。
由于我的home目录也是挂载的单独的分区，现在也读不出来了，现在也只能用root登录了。