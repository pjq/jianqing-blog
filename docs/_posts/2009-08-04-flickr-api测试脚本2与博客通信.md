---
title: "Flickr API测试脚本2:与博客通信"
date: 2009-08-04
author: pengjianqing
categories: ['自由分类']
---

之前写的一个[脚本](http://www.impjq.net/blog/2009/08/03/flickr-api-%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac/)已经可以成功获得auth token,有了它，你就可以与flickr进行通讯了。可以利用它给的API做你想做的事了。

我先实现了用API与设置的blog通讯的脚本，用这个脚本就可以给你选定的blog发文了，我分别测试了wordpress和twitter,都可以正常发文：

```

percy@o-2rl2:~/flickr$ cat blog.sh
#########################################################################
# Author: pengjianqing@gmail.com
# Created Time: Mon 03 Aug 2009 07:48:46 PM CST
# File Name: blog.sh
# Description:
#########################################################################
#!/bin/bash

API_KEY=***********************************
API_SECRET=********************************
#echo "API_KEY=${API_KEY}"
#echo "API_SECRET=${API_SECRET}"

echo "*********************************************************"
echo "Get auth token..."
echo "*********************************************************"
TOKEN=`cat token.xml|grep -i token|cut -d ">" -f2|cut -d "" -f2|cut -d "" -f2|cut -d "![](http://img.zemanta.com/pixy.gif?x-id=4416957c-c719-8c5f-ae82-47f2b16447ca)